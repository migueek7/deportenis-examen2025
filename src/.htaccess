RewriteEngine On
Options All -Indexes

RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule  ^(.+)$ index.php?ruta=$1 [QSA,L]